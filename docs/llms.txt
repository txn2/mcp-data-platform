# mcp-data-platform

> MCP server for AI-assisted data exploration. DataHub semantic layer with optional Trino and S3. Cross-injection automatically enriches query results with business context: owners, tags, quality scores, deprecation warnings. Implements fail-closed security with OIDC/API key authentication, TLS for HTTP transport, and prompt injection protection.

## Concepts

- [The Data Stack](concepts/components.md): Why DataHub, Trino, and S3. What each component brings, why they were chosen, and how cross-injection makes them greater than the sum of parts.

## Documentation

- [Home](index.md): Introduction, quick start, and key features
- [Server Overview](server/overview.md): What the platform does, architecture, request flow
- [Installation](server/installation.md): Install via go install, Homebrew, Docker, or from source
- [Configuration](server/configuration.md): YAML configuration with environment variable expansion
- [Tools](server/tools.md): All 27 tools from DataHub, Trino, and S3 toolkits
- [Multi-Provider](server/multi-provider.md): Connect multiple instances of each service
- [Audit Logging](server/audit.md): PostgreSQL-backed audit logging for tool calls. Schema, field reference, parameter sanitization, retention, query examples, troubleshooting
- [Deployment](server/deployment.md): Docker Compose and Kubernetes/Helm deployment guides
- [Session Externalization](server/session-externalization.md): Externalize session state to PostgreSQL for zero-downtime restarts and horizontal scaling

## Cross-Injection

- [Overview](cross-injection/overview.md): How automatic context enrichment works between services
- [Trino to DataHub](cross-injection/trino-datahub.md): Trino results include DataHub metadata
- [DataHub to Trino](cross-injection/datahub-trino.md): DataHub results show query availability
- [S3 Enrichment](cross-injection/s3.md): S3 operations include semantic context
- [Lineage Inheritance](cross-injection/lineage.md): Automatic column metadata inheritance from upstream datasets via DataHub lineage
- [Session Dedup](cross-injection/overview.md#session-metadata-deduplication): Avoids repeating semantic metadata for previously-enriched tables within a session, saving LLM context tokens

## Authentication & Security

- [Auth Overview](auth/overview.md): Fail-closed security model, stdio vs HTTP authentication
- [OIDC](auth/oidc.md): Keycloak, Auth0, Okta, Azure AD setup with required claims
- [API Keys](auth/api-keys.md): Service account authentication
- [OAuth Server](auth/oauth-server.md): Built-in OAuth 2.1 for Claude Desktop + Keycloak integration
- [Security Article](https://imti.co/mcp-defense/): MCP Defense - A Case Study in AI Security

## Personas

- [Overview](personas/overview.md): Role-based tool access control
- [Tool Filtering](personas/tool-filtering.md): Allow/deny patterns with wildcards
- [Role Mapping](personas/role-mapping.md): Map OIDC roles to personas

## Go Library

- [Library Overview](library/overview.md): Build custom MCP servers using the Go library
- [Quick Start](library/quickstart.md): Code examples for common patterns
- [Architecture](library/architecture.md): Package structure, MCP protocol middleware, provider interfaces
- [Extensibility](library/extensibility.md): Custom toolkits, providers, middleware

## MCP Apps

- [Overview](mcpapps/overview.md): Interactive UI components for tool results. Platform provides infrastructure, you provide HTML/JS/CSS apps.
- [Configuration](mcpapps/configuration.md): Enable MCP Apps, configure apps with assets paths and CSP settings, Kubernetes deployment
- [Development](mcpapps/development.md): Docker-based development with test harness, creating new apps, MCP Apps protocol
- [Tutorial](mcpapps/tutorial.md): Step-by-step guide building a platform-info app. Covers MCP Apps protocol, message handling, tool result parsing, test harness workflow, dark mode support

## Examples

- [Examples Gallery](examples/index.md): Real-world configurations for enterprise governance, data democratization, and AI/ML workflows

## Reference

- [Tools API](reference/tools-api.md): Complete tool specifications with parameters and responses
- [Configuration](reference/configuration.md): Full YAML schema with all options
- [Providers](reference/providers.md): Semantic, query, and storage provider interfaces
- [Middleware](reference/middleware.md): Request processing chain

## Support

- [Troubleshooting](support/troubleshooting.md): Common issues, error codes, debugging guide
- [Changelog](support/changelog.md): Version history
