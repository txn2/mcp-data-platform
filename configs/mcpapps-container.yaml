# MCP Apps Container Configuration
#
# Used by Dockerfile.dev and docker-compose.dev.yml
# Configured for Docker internal networking.

apiVersion: v1

server:
  name: mcp-data-platform-dev
  transport: sse
  address: ":3001"

auth:
  allow_anonymous: true

personas:
  admin:
    display_name: "Developer"
    roles: ["admin"]
    tools:
      allow: ["*"]
      deny: []
  default_persona: admin

# Trino connection - uses Docker internal hostname
toolkits:
  trino:
    enabled: true
    instances:
      default:
        host: trino
        port: 8080
        ssl: false
        user: dev
        catalog: memory
        schema: default
        default_limit: 100
        max_limit: 1000

# MCP Apps - uses MCP_APPS_PATH env var set in docker-compose.dev.yml
mcpapps:
  enabled: true
  apps:
    query_results:
      enabled: true
      assets_path: "${MCP_APPS_PATH}/query-results"
      entry_point: "index.html"
      tools:
        - trino_query
        - trino_execute
      csp:
        resource_domains:
          - "https://cdn.jsdelivr.net"
      config:
        chartCDN: "https://cdn.jsdelivr.net/npm/chart.js"
        defaultChartType: "bar"
        maxTableRows: 1000
    platform_info:
      enabled: true
      assets_path: "${MCP_APPS_PATH}/platform-info"
      entry_point: "index.html"
      tools:
        - platform_info
      # Optional white-label branding — all fields are optional.
      # brand_name: replaces the default brand in the hero logo area; the MCP
      #             server name is always shown as a secondary line below.
      # brand_url:  optional URL — makes the logo and brand name clickable links.
      # logo_svg:   inline SVG string rendered at 40×40px; uses currentColor
      #             for the accent tint. Leave unset to use the default mark.
      #
      # config:
      #   brand_name: "Plexara"
      #   brand_url: "https://plexara.io"
      #   logo_svg: "<svg viewBox=\"0 0 40 40\">...</svg>"
