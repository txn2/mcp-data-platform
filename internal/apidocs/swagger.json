{
    "swagger": "2.0",
    "info": {
        "description": "Administrative REST API for managing the MCP Data Platform.\nEndpoints cover system info, configuration, personas, auth keys, audit logs, and knowledge management.",
        "title": "MCP Data Platform Admin API",
        "contact": {},
        "version": "1.0"
    },
    "host": "localhost:8080",
    "basePath": "/api/v1/admin",
    "paths": {
        "/audit/events": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns paginated audit events with optional filtering.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Audit"
                ],
                "summary": "List audit events",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Filter by user ID",
                        "name": "user_id",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter by tool name",
                        "name": "tool_name",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter by MCP session ID",
                        "name": "session_id",
                        "in": "query"
                    },
                    {
                        "type": "boolean",
                        "description": "Filter by success/failure",
                        "name": "success",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Events after this time (RFC 3339)",
                        "name": "start_time",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Events before this time (RFC 3339)",
                        "name": "end_time",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Sort column (default: timestamp)",
                        "name": "sort_by",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Sort direction: asc, desc (default: desc)",
                        "name": "sort_order",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Page number, 1-based (default: 1)",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Results per page (default: 50)",
                        "name": "per_page",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/admin.auditEventResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            }
        },
        "/audit/events/filters": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns unique user IDs and tool names seen in the audit log, sorted alphabetically.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Audit"
                ],
                "summary": "Get audit event filter values",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Events after this time (RFC 3339)",
                        "name": "start_time",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Events before this time (RFC 3339)",
                        "name": "end_time",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/admin.auditFiltersResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            }
        },
        "/audit/events/{id}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns a single audit event by ID.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Audit"
                ],
                "summary": "Get audit event",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Audit event ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/audit.Event"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            }
        },
        "/audit/metrics/breakdown": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns audit event counts grouped by a dimension.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Audit Metrics"
                ],
                "summary": "Get audit breakdown",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Dimension: tool_name, user_id, persona, toolkit_kind, connection",
                        "name": "group_by",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "Max entries (default: 10, max: 100)",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Start time (RFC 3339)",
                        "name": "start_time",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "End time (RFC 3339)",
                        "name": "end_time",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/audit.BreakdownEntry"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            }
        },
        "/audit/metrics/overview": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns aggregate audit statistics for the given time range.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Audit Metrics"
                ],
                "summary": "Get audit overview",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Start time (RFC 3339)",
                        "name": "start_time",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "End time (RFC 3339)",
                        "name": "end_time",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/audit.Overview"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            }
        },
        "/audit/metrics/performance": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns latency percentile statistics for the given time range.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Audit Metrics"
                ],
                "summary": "Get audit performance",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Start time (RFC 3339)",
                        "name": "start_time",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "End time (RFC 3339)",
                        "name": "end_time",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/audit.PerformanceStats"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            }
        },
        "/audit/metrics/timeseries": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns audit event counts bucketed by time resolution.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Audit Metrics"
                ],
                "summary": "Get audit timeseries",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Time bucket resolution: minute, hour, day (default: hour)",
                        "name": "resolution",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Start time (RFC 3339)",
                        "name": "start_time",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "End time (RFC 3339)",
                        "name": "end_time",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/audit.TimeseriesBucket"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            }
        },
        "/audit/stats": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns aggregate counts for total, successful, and failed events. Supports time and filter parameters.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Audit"
                ],
                "summary": "Get audit stats",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Filter by user ID",
                        "name": "user_id",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter by tool name",
                        "name": "tool_name",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Events after this time (RFC 3339)",
                        "name": "start_time",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Events before this time (RFC 3339)",
                        "name": "end_time",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/admin.auditStatsResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            }
        },
        "/auth/keys": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns all API keys (key values are never exposed, only names and roles).",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Auth Keys"
                ],
                "summary": "List auth keys",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/admin.authKeyListResponse"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Generates a new API key. Only available in database config mode. The key value is returned only once.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Auth Keys"
                ],
                "summary": "Create auth key",
                "parameters": [
                    {
                        "description": "Key definition",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/admin.authKeyCreateRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/admin.authKeyCreateResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    },
                    "409": {
                        "description": "Conflict",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            }
        },
        "/auth/keys/{name}": {
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Deletes an API key. Only available in database config mode.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Auth Keys"
                ],
                "summary": "Delete auth key",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Key name",
                        "name": "name",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/admin.statusResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            }
        },
        "/config": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns the current configuration as JSON with sensitive values redacted.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Config"
                ],
                "summary": "Get config",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            }
        },
        "/config/export": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns the current configuration as downloadable YAML. Sensitive values are redacted by default.",
                "produces": [
                    "application/x-yaml"
                ],
                "tags": [
                    "Config"
                ],
                "summary": "Export config",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Set to 'true' to include sensitive values",
                        "name": "secrets",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            }
        },
        "/config/history": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns config revision history. Only available in database config mode.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Config"
                ],
                "summary": "Config history",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/admin.configHistoryResponse"
                        }
                    },
                    "409": {
                        "description": "Conflict",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            }
        },
        "/config/import": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Imports a YAML configuration into the config store. Only available in database config mode.",
                "consumes": [
                    "application/x-yaml"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Config"
                ],
                "summary": "Import config",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Revision comment",
                        "name": "comment",
                        "in": "query"
                    },
                    {
                        "description": "YAML configuration",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/admin.configImportResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    },
                    "409": {
                        "description": "Conflict",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            }
        },
        "/config/mode": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns the current config store mode (file or database).",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Config"
                ],
                "summary": "Get config mode",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/admin.configModeResponse"
                        }
                    }
                }
            }
        },
        "/connections": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns all toolkit connections with their tools.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "System"
                ],
                "summary": "List connections",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/admin.connectionListResponse"
                        }
                    }
                }
            }
        },
        "/knowledge/changesets": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns paginated changesets with optional filtering.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Knowledge"
                ],
                "summary": "List changesets",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Filter by entity URN",
                        "name": "entity_urn",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter by applier",
                        "name": "applied_by",
                        "in": "query"
                    },
                    {
                        "type": "boolean",
                        "description": "Filter by rollback state",
                        "name": "rolled_back",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Changesets after this time (RFC 3339)",
                        "name": "since",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Changesets before this time (RFC 3339)",
                        "name": "until",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Page number, 1-based (default: 1)",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Results per page (default: 20)",
                        "name": "per_page",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/admin.changesetListResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            }
        },
        "/knowledge/changesets/{id}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns a single changeset by ID.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Knowledge"
                ],
                "summary": "Get changeset",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Changeset ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/knowledge.Changeset"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            }
        },
        "/knowledge/changesets/{id}/rollback": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Rolls back a changeset, restoring previous values to DataHub.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Knowledge"
                ],
                "summary": "Rollback changeset",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Changeset ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/admin.statusResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    },
                    "409": {
                        "description": "Conflict",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            }
        },
        "/knowledge/insights": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns paginated insights with optional filtering.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Knowledge"
                ],
                "summary": "List insights",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Filter by status",
                        "name": "status",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter by category",
                        "name": "category",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter by entity URN",
                        "name": "entity_urn",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter by capturer",
                        "name": "captured_by",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter by confidence level",
                        "name": "confidence",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Insights after this time (RFC 3339)",
                        "name": "since",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Insights before this time (RFC 3339)",
                        "name": "until",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Page number, 1-based (default: 1)",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Results per page (default: 20)",
                        "name": "per_page",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/admin.insightListResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            }
        },
        "/knowledge/insights/stats": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns aggregated insight statistics by entity, category, confidence, and status.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Knowledge"
                ],
                "summary": "Get insight stats",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Filter by status",
                        "name": "status",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter by category",
                        "name": "category",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter by entity URN",
                        "name": "entity_urn",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter by capturer",
                        "name": "captured_by",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter by confidence level",
                        "name": "confidence",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Insights after this time (RFC 3339)",
                        "name": "since",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Insights before this time (RFC 3339)",
                        "name": "until",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/knowledge.InsightStats"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            }
        },
        "/knowledge/insights/{id}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns a single insight by ID.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Knowledge"
                ],
                "summary": "Get insight",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Insight ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/knowledge.Insight"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            },
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Update insight text, category, or confidence. Cannot edit an applied insight.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Knowledge"
                ],
                "summary": "Update insight",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Insight ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Fields to update",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/admin.insightUpdateRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/admin.statusResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    },
                    "409": {
                        "description": "Conflict",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            }
        },
        "/knowledge/insights/{id}/status": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Approve or reject an insight. Status must be 'approved' or 'rejected'.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Knowledge"
                ],
                "summary": "Update insight status",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Insight ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Status update",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/admin.statusUpdateRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/admin.statusResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    },
                    "409": {
                        "description": "Conflict",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            }
        },
        "/personas": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns all configured personas with tool counts.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Personas"
                ],
                "summary": "List personas",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/admin.personaListResponse"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Creates a new persona. Only available in database config mode.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Personas"
                ],
                "summary": "Create persona",
                "parameters": [
                    {
                        "description": "Persona definition",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/admin.personaCreateRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/admin.personaDetail"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    },
                    "409": {
                        "description": "Conflict",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            }
        },
        "/personas/{name}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns a single persona with resolved tool list.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Personas"
                ],
                "summary": "Get persona",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Persona name",
                        "name": "name",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/admin.personaDetail"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            },
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Updates an existing persona. Only available in database config mode.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Personas"
                ],
                "summary": "Update persona",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Persona name",
                        "name": "name",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Persona definition",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/admin.personaCreateRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/admin.personaDetail"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Deletes a persona. Only available in database config mode. Cannot delete the admin persona.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Personas"
                ],
                "summary": "Delete persona",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Persona name",
                        "name": "name",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/admin.statusResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    },
                    "409": {
                        "description": "Conflict",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            }
        },
        "/system/info": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns platform identity, version, runtime feature availability, and config mode.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "System"
                ],
                "summary": "Get system info",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/admin.systemInfoResponse"
                        }
                    }
                }
            }
        },
        "/tools": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns all registered tools across all toolkits and platform-level tools.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "System"
                ],
                "summary": "List tools",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/admin.toolListResponse"
                        }
                    }
                }
            }
        },
        "/tools/call": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Executes a tool via the MCP server and returns the result.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Tools"
                ],
                "summary": "Call a tool",
                "parameters": [
                    {
                        "description": "Tool call request",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/admin.toolCallRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/admin.toolCallResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/admin.problemDetail"
                        }
                    }
                }
            }
        },
        "/tools/schemas": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns JSON schemas for all registered tools including parameter definitions.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Tools"
                ],
                "summary": "Get tool schemas",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/admin.toolSchemaResponse"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "admin.auditEventResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/audit.Event"
                    }
                },
                "page": {
                    "type": "integer"
                },
                "per_page": {
                    "type": "integer"
                },
                "total": {
                    "type": "integer"
                }
            }
        },
        "admin.auditFiltersResponse": {
            "type": "object",
            "properties": {
                "tools": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "user_labels": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    }
                },
                "users": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "admin.auditStatsResponse": {
            "type": "object",
            "properties": {
                "failures": {
                    "type": "integer"
                },
                "success": {
                    "type": "integer"
                },
                "total": {
                    "type": "integer"
                }
            }
        },
        "admin.authKeyCreateRequest": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string"
                },
                "roles": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "admin.authKeyCreateResponse": {
            "type": "object",
            "properties": {
                "key": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "roles": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "warning": {
                    "type": "string"
                }
            }
        },
        "admin.authKeyListResponse": {
            "type": "object",
            "properties": {
                "keys": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/auth.APIKeySummary"
                    }
                },
                "total": {
                    "type": "integer"
                }
            }
        },
        "admin.changesetListResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/knowledge.Changeset"
                    }
                },
                "page": {
                    "type": "integer"
                },
                "per_page": {
                    "type": "integer"
                },
                "total": {
                    "type": "integer"
                }
            }
        },
        "admin.configHistoryResponse": {
            "type": "object",
            "properties": {
                "revisions": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/configstore.Revision"
                    }
                },
                "total": {
                    "type": "integer"
                }
            }
        },
        "admin.configImportResponse": {
            "type": "object",
            "properties": {
                "note": {
                    "type": "string"
                },
                "status": {
                    "type": "string"
                }
            }
        },
        "admin.configModeResponse": {
            "type": "object",
            "properties": {
                "mode": {
                    "type": "string"
                },
                "read_only": {
                    "type": "boolean"
                }
            }
        },
        "admin.connectionInfo": {
            "type": "object",
            "properties": {
                "connection": {
                    "type": "string"
                },
                "hidden_tools": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "kind": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "tools": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "admin.connectionListResponse": {
            "type": "object",
            "properties": {
                "connections": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/admin.connectionInfo"
                    }
                },
                "total": {
                    "type": "integer"
                }
            }
        },
        "admin.insightListResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/knowledge.Insight"
                    }
                },
                "page": {
                    "type": "integer"
                },
                "per_page": {
                    "type": "integer"
                },
                "total": {
                    "type": "integer"
                }
            }
        },
        "admin.insightUpdateRequest": {
            "type": "object",
            "properties": {
                "category": {
                    "type": "string"
                },
                "confidence": {
                    "type": "string"
                },
                "insight_text": {
                    "type": "string"
                }
            }
        },
        "admin.personaCreateRequest": {
            "type": "object",
            "properties": {
                "allow_tools": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "deny_tools": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "description": {
                    "type": "string"
                },
                "display_name": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "priority": {
                    "type": "integer"
                },
                "roles": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "admin.personaDetail": {
            "type": "object",
            "properties": {
                "allow_tools": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "deny_tools": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "description": {
                    "type": "string"
                },
                "display_name": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "priority": {
                    "type": "integer"
                },
                "roles": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "tools": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "admin.personaListResponse": {
            "type": "object",
            "properties": {
                "personas": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/admin.personaSummary"
                    }
                },
                "total": {
                    "type": "integer"
                }
            }
        },
        "admin.personaSummary": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string"
                },
                "display_name": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "roles": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "tool_count": {
                    "type": "integer"
                }
            }
        },
        "admin.problemDetail": {
            "type": "object",
            "properties": {
                "detail": {
                    "type": "string"
                },
                "status": {
                    "type": "integer"
                },
                "title": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                }
            }
        },
        "admin.statusResponse": {
            "type": "object",
            "properties": {
                "status": {
                    "type": "string"
                }
            }
        },
        "admin.statusUpdateRequest": {
            "type": "object",
            "properties": {
                "review_notes": {
                    "type": "string"
                },
                "status": {
                    "type": "string"
                }
            }
        },
        "admin.systemFeatures": {
            "type": "object",
            "properties": {
                "admin": {
                    "type": "boolean"
                },
                "audit": {
                    "type": "boolean"
                },
                "database": {
                    "type": "boolean"
                },
                "knowledge": {
                    "type": "boolean"
                },
                "oauth": {
                    "type": "boolean"
                }
            }
        },
        "admin.systemInfoResponse": {
            "type": "object",
            "properties": {
                "config_mode": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "features": {
                    "$ref": "#/definitions/admin.systemFeatures"
                },
                "name": {
                    "type": "string"
                },
                "persona_count": {
                    "type": "integer"
                },
                "portal_title": {
                    "type": "string"
                },
                "toolkit_count": {
                    "type": "integer"
                },
                "transport": {
                    "type": "string"
                },
                "version": {
                    "type": "string"
                }
            }
        },
        "admin.toolCallRequest": {
            "type": "object",
            "properties": {
                "connection": {
                    "type": "string"
                },
                "parameters": {
                    "type": "object",
                    "additionalProperties": {}
                },
                "tool_name": {
                    "type": "string"
                }
            }
        },
        "admin.toolCallResponse": {
            "type": "object",
            "properties": {
                "content": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/admin.toolContentBlock"
                    }
                },
                "duration_ms": {
                    "type": "integer"
                },
                "is_error": {
                    "type": "boolean"
                }
            }
        },
        "admin.toolContentBlock": {
            "type": "object",
            "properties": {
                "text": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                }
            }
        },
        "admin.toolInfo": {
            "type": "object",
            "properties": {
                "connection": {
                    "type": "string"
                },
                "kind": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "toolkit": {
                    "type": "string"
                }
            }
        },
        "admin.toolListResponse": {
            "type": "object",
            "properties": {
                "tools": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/admin.toolInfo"
                    }
                },
                "total": {
                    "type": "integer"
                }
            }
        },
        "admin.toolSchema": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string"
                },
                "kind": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "parameters": {}
            }
        },
        "admin.toolSchemaResponse": {
            "type": "object",
            "properties": {
                "schemas": {
                    "type": "object",
                    "additionalProperties": {
                        "$ref": "#/definitions/admin.toolSchema"
                    }
                }
            }
        },
        "audit.BreakdownEntry": {
            "type": "object",
            "properties": {
                "avg_duration_ms": {
                    "type": "number"
                },
                "count": {
                    "type": "integer"
                },
                "dimension": {
                    "type": "string"
                },
                "success_rate": {
                    "type": "number"
                }
            }
        },
        "audit.Event": {
            "type": "object",
            "properties": {
                "authorized": {
                    "type": "boolean"
                },
                "connection": {
                    "type": "string"
                },
                "content_blocks": {
                    "type": "integer"
                },
                "duration_ms": {
                    "type": "integer"
                },
                "enrichment_applied": {
                    "type": "boolean"
                },
                "error_message": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "parameters": {
                    "type": "object",
                    "additionalProperties": {}
                },
                "persona": {
                    "type": "string"
                },
                "request_chars": {
                    "type": "integer"
                },
                "request_id": {
                    "type": "string"
                },
                "response_chars": {
                    "type": "integer"
                },
                "session_id": {
                    "type": "string"
                },
                "source": {
                    "type": "string"
                },
                "success": {
                    "type": "boolean"
                },
                "timestamp": {
                    "type": "string"
                },
                "tool_name": {
                    "type": "string"
                },
                "toolkit_kind": {
                    "type": "string"
                },
                "toolkit_name": {
                    "type": "string"
                },
                "transport": {
                    "type": "string"
                },
                "user_email": {
                    "type": "string"
                },
                "user_id": {
                    "type": "string"
                }
            }
        },
        "audit.Overview": {
            "type": "object",
            "properties": {
                "avg_duration_ms": {
                    "type": "number"
                },
                "enrichment_rate": {
                    "type": "number"
                },
                "error_count": {
                    "type": "integer"
                },
                "success_rate": {
                    "type": "number"
                },
                "total_calls": {
                    "type": "integer"
                },
                "unique_tools": {
                    "type": "integer"
                },
                "unique_users": {
                    "type": "integer"
                }
            }
        },
        "audit.PerformanceStats": {
            "type": "object",
            "properties": {
                "avg_ms": {
                    "type": "number"
                },
                "avg_request_chars": {
                    "type": "number"
                },
                "avg_response_chars": {
                    "type": "number"
                },
                "max_ms": {
                    "type": "number"
                },
                "p50_ms": {
                    "type": "number"
                },
                "p95_ms": {
                    "type": "number"
                },
                "p99_ms": {
                    "type": "number"
                }
            }
        },
        "audit.TimeseriesBucket": {
            "type": "object",
            "properties": {
                "avg_duration_ms": {
                    "type": "number"
                },
                "bucket": {
                    "type": "string"
                },
                "count": {
                    "type": "integer"
                },
                "error_count": {
                    "type": "integer"
                },
                "success_count": {
                    "type": "integer"
                }
            }
        },
        "auth.APIKeySummary": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string"
                },
                "roles": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "configstore.Revision": {
            "type": "object",
            "properties": {
                "author": {
                    "type": "string"
                },
                "comment": {
                    "type": "string"
                },
                "created_at": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "version": {
                    "type": "integer"
                }
            }
        },
        "knowledge.Changeset": {
            "type": "object",
            "properties": {
                "applied_by": {
                    "type": "string"
                },
                "approved_by": {
                    "type": "string"
                },
                "change_type": {
                    "type": "string"
                },
                "created_at": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "new_value": {
                    "type": "object",
                    "additionalProperties": {}
                },
                "previous_value": {
                    "type": "object",
                    "additionalProperties": {}
                },
                "rolled_back": {
                    "type": "boolean"
                },
                "rolled_back_at": {
                    "type": "string"
                },
                "rolled_back_by": {
                    "type": "string"
                },
                "source_insight_ids": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "target_urn": {
                    "type": "string"
                }
            }
        },
        "knowledge.EntityInsightSummary": {
            "type": "object",
            "properties": {
                "categories": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "count": {
                    "type": "integer"
                },
                "entity_urn": {
                    "type": "string"
                },
                "latest_at": {
                    "type": "string"
                }
            }
        },
        "knowledge.Insight": {
            "type": "object",
            "properties": {
                "applied_at": {
                    "type": "string"
                },
                "applied_by": {
                    "type": "string"
                },
                "captured_by": {
                    "type": "string"
                },
                "category": {
                    "type": "string"
                },
                "changeset_ref": {
                    "type": "string"
                },
                "confidence": {
                    "type": "string"
                },
                "created_at": {
                    "type": "string"
                },
                "entity_urns": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "id": {
                    "type": "string"
                },
                "insight_text": {
                    "type": "string"
                },
                "persona": {
                    "type": "string"
                },
                "related_columns": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/knowledge.RelatedColumn"
                    }
                },
                "review_notes": {
                    "type": "string"
                },
                "reviewed_at": {
                    "type": "string"
                },
                "reviewed_by": {
                    "description": "Lifecycle fields (populated by migrations 000007 and 000008)",
                    "type": "string"
                },
                "session_id": {
                    "type": "string"
                },
                "status": {
                    "type": "string"
                },
                "suggested_actions": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/knowledge.SuggestedAction"
                    }
                }
            }
        },
        "knowledge.InsightStats": {
            "type": "object",
            "properties": {
                "by_category": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "integer"
                    }
                },
                "by_confidence": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "integer"
                    }
                },
                "by_entity": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/knowledge.EntityInsightSummary"
                    }
                },
                "by_status": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "integer"
                    }
                },
                "total_pending": {
                    "type": "integer"
                }
            }
        },
        "knowledge.RelatedColumn": {
            "type": "object",
            "properties": {
                "column": {
                    "type": "string"
                },
                "relevance": {
                    "type": "string"
                },
                "urn": {
                    "type": "string"
                }
            }
        },
        "knowledge.SuggestedAction": {
            "type": "object",
            "properties": {
                "action_type": {
                    "type": "string"
                },
                "detail": {
                    "type": "string"
                },
                "target": {
                    "type": "string"
                }
            }
        }
    },
    "securityDefinitions": {
        "ApiKeyAuth": {
            "type": "apiKey",
            "name": "X-API-Key",
            "in": "header"
        },
        "BearerAuth": {
            "type": "apiKey",
            "name": "Authorization",
            "in": "header"
        }
    }
}